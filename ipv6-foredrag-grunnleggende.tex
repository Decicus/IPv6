% $Ximalas$
%\documentclass{beamer}
%\documentclass[handout]{beamer}
%\usepackage{pgfpages}
%\pgfpagesuselayout{2 on 1}[a4paper,border shrink=5mm]
%\pgfpagesuselayout{4 on 1}[a4paper,landscape,border shrink=5mm]
%\setbeameroption{show notes} % on second screen}

\def\jobname{ipv6-foredrag-grunnleggende} % Sett riktig navn på presentasjonen her.
\setjobnamebeamerversion{\jobname}

\usepackage[cp1252]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[norsk]{babel}
\usepackage{booktabs}
\usepackage{multicol}

%\usetheme{AnnArbor}
%\usetheme{Boadilla}
%\usetheme{boxes}
%\usetheme{CambridgeUS}
%\usetheme{Antibes}
%\usetheme{Bergen}
%\usetheme{Berkeley}
%\usetheme{Berlin}
%\usetheme{Copenhagen}
%\usetheme{Darmstadt}
%\usetheme{Dresden}
%\usetheme{Frankfurt}
%\usetheme{Goettingen}
%\usetheme{Hannover}
%\usetheme{Ilmenau}
%\usetheme{JuanLesPins}
%\usetheme{Luebeck}
\usetheme{Madrid}
%\usetheme{Malmoe}
%\usetheme{Marburg}
%\usetheme{Montpellier}
%\usetheme{PaloAlto}
%\usetheme{Pittsburgh}
%\usetheme{Rochester}
%\usetheme{Singapore}
%\usetheme{Szeged}
%\usetheme{Warsaw}

\hypersetup{colorlinks,linkcolor=,urlcolor=blue}

\title{\textbf{IPv6-foredrag}}
\subtitle{Grunnleggende}
\author[T.~Endrestøl]{\href{http://fig.ol.no/~trond/}{Trond Endrestøl}}
%\author[T.~Endrestøl]{Trond Endrestøl}
\institute[FSI/IT]{\href{http://fagskolen-innlandet.no/}{Fagskolen Innlandet}}
%\institute[FSI/IT]{Fagskolen Innlandet, IT-avdelingen}
\logo{\includegraphics[scale=.25]{fi_logo_147px.pdf}}
\subject{Emne for bruk i egenskapene til PDF-fila}
\keywords{Nøkkelord for bruk i egenskapene til PDF-fila}
\date{\today} % eller
%\date{18.\ september 2013}

\begin{document}

\begin{frame}
  \titlepage
\end{frame}

\begin{frame}
  \frametitle{Foredragets filer}
  \begin{itemize}
  \item Filene til foredraget er tilgjengelig gjennom:
    \begin{itemize}
    \item Subversion: \texttt{svn co \textbackslash\
        \url{svn://svn.ximalas.info/ipv6-foredrag-grunnleggende}}
    \item Web:
      \href{http://svnweb.ximalas.info/ipv6-foredrag-grunnleggende/}{\texttt{svnweb.ximalas.info/ipv6-foredrag-grunnleggende/}}
    \end{itemize}
  \item
    \href{http://svnweb.ximalas.info/ipv6-foredrag-grunnleggende/trunk/ipv6-foredrag-grunnleggende.foredrag.pdf?view=co}{\texttt{ipv6-foredrag-grunnleggende.foredrag.pdf}}
    vises på lerretet
  \item
    \href{http://svnweb.ximalas.info/ipv6-foredrag-grunnleggende/trunk/ipv6-foredrag-grunnleggende.handout.pdf?view=co}{\texttt{ipv6-foredrag-grunnleggende.handout.pdf}}
    er mye bedre for publikum å se på
  \item
    \href{http://svnweb.ximalas.info/ipv6-foredrag-grunnleggende/trunk/ipv6-foredrag-grunnleggende.handout.2on1.pdf?view=co}{\texttt{ipv6-foredrag-grunnleggende.handout.2on1.pdf}}
    er velegnet til utskrift
  \item Hovedfila bærer denne identifikasjonen:\\
    \texttt{\$${}$Ximalas${}$\$}
  \item Foredraget er mekket ved hjelp av
    \href{http://www.gnu.org/software/emacs/}{GNU~Emacs},
    \href{http://www.gnu.org/software/auctex/}{AUC\TeX},
    \href{http://miktex.org/}{MiK\TeX}, dokumentklassa
    \href{https://bitbucket.org/rivanvx/beamer/wiki/Home}{beamer},
    \href{http://subversion.apache.org/}{Subversion},
    \href{http://tortoisesvn.net/}{TortoiseSVN} og
    \href{http://get.adobe.com/no/reader/}{Adobe Reader}
  \end{itemize}
\end{frame}

\section*{Oversikt}
\begin{frame}[allowframebreaks]
  \frametitle{Oversikt}
%  \begin{multicols}{2}
    \tableofcontents%[pausesections]
%  \end{multicols}
\end{frame}

\section{Kort om IPv6}
\subsection{Hva er IPv6?}
\begin{frame}
  \frametitle{Kort om IPv6}
  \framesubtitle{Hva er IPv6?}
  \pause
  \begin{itemize}[<+->]
  \item En lag-3-protokoll ment å erstatte IPv4
  \item Har eksistert siden desember 1995, spesifisert i
    \href{http://tools.ietf.org/html/rfc1883}{RFC~1883}
  \item Enkel grunnheader med fast lengde
  \item Flere utvidelsesheadere, riktig rekkefølge er viktig
  \item 128-bit adresser
  \item Ny versjon av ICMP: ICMPv6
  \item ARP og RARP for IPv6 er en del av ICMPv6
    \begin{itemize}[<+->]
    \item Ikke nødvendig med ekstra lim for adressene i lagene 2 og 3
    \end{itemize}
  \item Ny versjon av DHCP: DHCPv6
  \item Automatisk adressekonfigurasjon \textit{uten\/} bruk av DHCPv6
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Kort om IPv6}
  \framesubtitle{Hva er IPv6?}
  %\pause
  \begin{itemize}%[<+->]
  \item En lag-3-protokoll ment å erstatte IPv4
  \item Har eksistert siden desember 1995, spesifisert i
    \href{http://tools.ietf.org/html/rfc1883}{RFC~1883}
  \item Enkel grunnheader med fast lengde
  \item Flere utvidelsesheadere, riktig rekkefølge er viktig
  \item \alert{128-bit adresser}
  \item Ny versjon av ICMP: ICMPv6
  \item ARP og RARP for IPv6 er en del av ICMPv6
    \begin{itemize}%[<+->]
    \item Ikke nødvendig med ekstra lim for adressene i lagene 2 og 3
    \end{itemize}
  \item Ny versjon av DHCP: DHCPv6
  \item \alert{Automatisk adressekonfigurasjon \textit{uten\/} bruk av
      DHCPv6}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Kort om IPv6}
  \framesubtitle{Hva er IPv6?}
  %\pause
  \begin{itemize}[<+->]
  \item Totalt antall IPv6-adresser:
  \item $2^{128}=340.282.366.920.938.463.463.374.607.431.768.211.456$
  \item Bare $1/8$ kan brukes til offentlige unicast-adresser:
  \item
    $2^{125}=\phantom{0}42.535.295.865.117.307.932.921.825.928.971.026.432$
  \item Fortsatt mye mer enn det fullstendige IPv4-adresserommet:
  \item
    $2^{32\phantom{0}}=\phantom{000.000.000.000.000.000.000.000.000.00}4.294.967.296$
  \item Bare $3.702.258.688$ IPv4-adresser kan bli brukt som
    offentlige IPv4-unicast-adresser
  \item Se Tronds utregning fra 2012:
    \texttt{\url{http://ximalas.info/2012/07/20/how-many-ipv4-addresses-are-there/}}
  \end{itemize}
\end{frame}

\subsection{Hvorfor trenger vi IPv6?}
\begin{frame}
  \frametitle{Kort om IPv6}
  \framesubtitle{Hvorfor trenger vi IPv6?}
  \pause
  \begin{itemize}[<+->]
  \item Verden går tom for offentlige IPv4-adresser
  \item \href{http://www.iana.org/}{IANA} gikk tom i
    \href{http://www.icann.org/en/news/press/releases/release-03feb11-en.pdf}{februar
      2011}
    \begin{itemize}[<+->]
    \item \href{http://www.apnic.net/}{APNIC} gikk tom i
      \href{http://www.apnic.net/community/ipv4-exhaustion/graphical-information}{april
        2011}
    \item \href{http://www.ripe.net/}{RIPE} gikk tom i
      \href{http://www.ripe.net/internet-coordination/ipv4-exhaustion}{september
        2012}
    \end{itemize}
  \item Dersom disse
    \href{http://en.wikipedia.org/wiki/Regional_Internet_registry}{RIR}-ene
    oppfører seg pent:
    \begin{itemize}
    \item \href{http://www.lacnic.net/en/web/lacnic/inicio}{LACNIC}
      kan holde på til
      \href{http://www.lacnic.net/web/lacnic/reporte-direcciones-ipv4}{juni
        2014}
    \item \href{https://www.arin.net/}{ARIN} kan holde på til
      \href{http://www.potaroo.net/tools/ipv4/}{desember 2014}
    \item \href{http://www.afrinic.net/}{AFRINIC} kan holde på til
      \href{http://www.potaroo.net/tools/ipv4/}{oktober 2020}
    \end{itemize}
  \item NAT (\href{http://tools.ietf.org/html/rfc2663}{RFC~2663}), CGN
    (\href{http://tools.ietf.org/html/rfc6264}{RFC~6264}) og Shared
    Address Space
    (\href{http://tools.ietf.org/html/rfc6598}{RFC~6598}) er bare
    støttebandasje med kort utløpstid
    \begin{itemize}[<+->]
    \item Glem det
    \item Ende-til-ende-konnektivitet oppnås best uten noen former for
      adresseoversettelse
    \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Kort om IPv6}
  \framesubtitle{Hvorfor trenger vi IPv6?}
  %\pause
  \begin{itemize}[<+->]
  \item Kortere rutingtabeller
  \item Uninett annonserer disse IPv4-subnettene med BGP:
  \item \texttt{78.91.0.0/16}, \hfill\texttt{128.39.0.0/16},
      \hfill\texttt{129.177.0.0/16}, \hfill\texttt{129.240.0.0/15},
      \hfill\texttt{129.242.0.0/16}, \hfill\texttt{144.164.0.0/16},
      \hfill\texttt{151.157.0.0/16}, \hfill\texttt{152.94.0.0/16},
      \hfill\texttt{156.116.0.0/16}, \hfill\texttt{157.249.0.0/16},
      \hfill\texttt{158.36.0.0/14}, \hfill\texttt{161.4.0.0/16},
      \hfill\texttt{193.156.0.0/15}, \hfill\texttt{192.111.33.0/24},
      \hfill\texttt{192.133.32.0/24}, \hfill\texttt{192.146.238.0/23}
    \item Til gjengjeld trenger Uninett bare å annonsere dette
      IPv6-prefikset:
    \item \texttt{2001:700::/32}
  \end{itemize}
\end{frame}

\subsection{Andre nyttige ting ved IPv6}
\begin{frame}
  \frametitle{Kort om IPv6}
  \framesubtitle{Andre nyttige ting ved IPv6}
  \pause
  \begin{itemize}[<+->]
  \item IPsec ble spesifisert som en del av IPv6
    \begin{itemize}[<+->]
    \item Må konfigureres før den begynner å virke
    \item Tilbyr kryptert overføring (ESP), og bekreftelse av
      avsenders identitet og beskyttelse mot gjentakelse («replay»)
      (AH)
    \item Finnes også for IPv4
    \item Ble omgjort fra krav til anbefaling av
      \href{http://tools.ietf.org/html/rfc6434}{RFC~6434}
    \end{itemize}
  \item Fragmentering skal gjøres hos avsender
  \item Avsender må sjekke veien og måle smaleste krøttersti
  \item Path MTU
  \item Sjekksum er overlatt til høyere lag
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Kort om IPv6}
  \framesubtitle{Andre nyttige ting ved IPv6}
  %\pause
  \begin{itemize}[<+->]
  \item Hierarkisk adressestruktur
  \item Enklere planlegging av subnett sammenlignet med IPv4
    \begin{itemize}[<+->]
    \item De fleste IPv6-subnett bruker et 64-bit prefiks
    \item Autokonfigurasjon \textit{krever\/} et 64-bit prefiks
    \item Fast prefikslengde på 64 bit er \textit{ikke\/} et absolutt
      krav
    \item DHCPv6 eller manuell konfigurasjon (kan) brukes når
      prefikslengda er ulik 64 bit
    \end{itemize}
  \end{itemize}
\end{frame}

\subsection{IPv6 ved Fagskolen Innlandet}
\begin{frame}
  \frametitle{Kort om IPv6}
  \framesubtitle{IPv6 ved Fagskolen Innlandet}
  \pause
  \begin{itemize}[<+->]
  \item 1994: Tildelt \texttt{128.39.174.0/24} av Uninett
  \item 1.~juni 2005: Ny IT-ansvarlig, yours truly
  \item Høsten 2005: Fikk reservert IPv4-serien
    \texttt{128.39.172.0/23}
  \item Påska 2006: Fikk reservert IPv6-serien
    \texttt{2001:700:1100::/48}
  \item Før og etter pinsehelga 2006: Fiberlinjer fra serverrommet og
    til sentrale punkter i hver etasje i hovedbygningen
  \item Sommeren 2006: Nytt Cisco-gear som Catalyst 3560G og 2960
    \begin{itemize}[<+->]
    \item \texttt{128.39.46.8/30} ble satt opp som linknett mellom
      HiG/Uninett og FSI
%      \begin{itemize}[<+->]
%      \item \texttt{128.39.46.9\phantom{0}} brukes ved HiG
%      \item \texttt{128.39.46.10} brukes ved FSI
%      \end{itemize}
    \item \texttt{128.39.174.0/24} ble subnettet og satt opp som
      servernett og ansattnett, m.m.
    \item \texttt{128.39.172.0/24} ble subnettet og satt opp som nett
      for datalab
    \item \texttt{128.39.173.0/24} ble satt opp som klienter på
      trådløst studentnett
    \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Kort om IPv6}
  \framesubtitle{IPv6 ved Fagskolen Innlandet}
  %\pause
  \begin{itemize}[<+->]
  \item 6.~september 2006: IPv6-linknettet
    \texttt{2001:700:0:11D::/64} ble aktivert mellom HiG/Uninett og
    FSI
    \begin{itemize}[<+->]
    \item \texttt{2001:700:0:11D::1/64} brukes hos HiG
    \item \texttt{2001:700:0:11D::2/64} brukes hos FSI
    \end{itemize}
  \item Samme dag ble IPv6 innført for FSI-VLAN-ene 20, 30, 70 og 80.
    \begin{itemize}[<+->]
    \item FSI-VLAN 20: \texttt{2001:700:1100:1::/64}
    \item FSI-VLAN 30: \texttt{2001:700:1100:2::/64}
    \item FSI-VLAN 70: \texttt{2001:700:1100:3::/64}
    \item FSI-VLAN 80: \texttt{2001:700:1100:4::/64}
    \end{itemize}
  \item Sommeren 2007:
    \href{http://www.sixxs.net/tools/grh/ula/}{Genererte} og frivillig
    \href{http://www.sixxs.net/tools/grh/ula/list/}{registrerte}
    ULA-serien
    \href{http://www.sixxs.net/tools/whois/?fd5c:14cf:c300::/48}{\texttt{FD5C:14CF:C300::/48}}
    for FSI-VLAN som tidligere bare brukte
    \href{http://tools.ietf.org/html/rfc1918}{RFC-1918}-adresser
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Kort om IPv6}
  \framesubtitle{IPv6 ved Fagskolen Innlandet}
  %\pause
  \begin{itemize}[<+->]
  \item Høsten 2010: Enda en IPv4-serie ble innført:
    \texttt{128.39.194.0/24}
    \begin{itemize}[<+->]
    \item \texttt{128.39.172.0/23} brukes til klienter på trådløst
      studentnett
    \item \texttt{128.39.194.0/24} brukes til datalab etter samme
      mønster som for \texttt{128.39.172.0/24}
    \end{itemize}
  \item I dag er de fleste brukere kasta over til OFK-nettene
  \item Dette skjedde etter ombygginga i 2011--2012
  \item Andreklasse data er velsigna med å kunne velge mellom FSI- og
    OFK-nettene
  \item Andreklasse data velger som regel det førstnevnte, vanligvis
    FSI-VLAN 48, \texttt{128.39.194.192/27} og
    \texttt{2001:700:1100:8008::/64}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Kort om IPv6}
  \framesubtitle{IPv6 ved Fagskolen Innlandet}
  %\pause
  \begin{itemize}[<+->]
  \item Alle FSI-VLAN har både IPv4- og IPv6-adresser
  \item FSI-VLAN med offentlige IPv4-adresser bruker offentlige
    IPv6-adresser fra \texttt{2001:700:1100::/48}-serien
  \item FSI-VLAN med private IPv4-adresser
    (\href{http://tools.ietf.org/html/rfc1918}{RFC~1918}) bruker
    private IPv6-adresser fra \texttt{FD5C:14CF:C300::/48}-serien
  \item Private adresser brukes for alt utstyr som ikke har behov for
    internettforbindelse:
    \begin{itemize}[<+->]
    \item Switcher (med unntak av kjerneswitchen som er L3-router for
      nettverket ved FSI)
    \item Basestasjoner og WLAN-kontroller
    \item UPS-er
    \item Skrivere
    \item VPN-klienter
    \end{itemize}
  \end{itemize}
\end{frame}

\section{IPv6-header}
\begin{frame}
  \frametitle{IPv6-header}
  \pause
  \begin{center}
    \includegraphics[scale=.333]{CCNP-108.png}
  \end{center}

  Hentet fra
  \texttt{\url{http://www.tekkom.dk/mediawiki/images/5/5e/CCNP-108.png}}
\end{frame}

\begin{frame}
  \frametitle{IPv6-header}
  %\pause
  \begin{center}
    \includegraphics[scale=.25]{CCNP-108.png}
  \end{center}

  \begin{itemize}
  \item IPv6-headeren er dobbelt så stor som IPv4-headeren
    (20~oktetter)
  \item IPv6-headeren har færre felter enn IPv4-headeren
  \item De utelatte feltene er i stor grad flyttet over til egne
    utvidelsesheadere
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{IPv6-header}
  %\pause
  \begin{multicols}{2}
    \includegraphics[scale=.2]{CCNP-108.png}

    \begin{itemize}[<+->]
    \item Versjonsfeltet (4 bit) settes til \texttt{0110}
    \item Traffic Class (8 bit) er det samme som Type of Service i
      IPv4
    \item Flow Label (20 bit) er et nytt felt og foreløpig
      eksperimentell
    \item Payload Length (16 bit) er det samme som Total Length i IPv4
    \item Next Header (8 bit) er det samme som Protocol i IPv4
    \item Hop Limit (8 bit) er det samme som Time To Live i IPv4
    \item Avsender og mottaker er 128-bit IPv6-adresser
    \item IPv4-feltene Internet Header Length (IHL), Identification,
      Flags, Fragment Offset, Header Checksum, Options og Padding, er
      enten fjernet for godt eller flyttet til egne utvidelsesheadere
    \end{itemize}
  \end{multicols}
\end{frame}

\begin{frame}
  \frametitle{IPv6-header}
  %\pause
  \begin{itemize}[<+->]
  \item Utvidelsesheaderne finnes i stort antall:
    \begin{itemize}[<+->]
    \item Hop-by-hop options
    \item Destination options
    \item Routing
    \item Fragment
    \item Authentication Header
    \item Encapsulating Security Payload
    \item Mobility
    \end{itemize}
  \item Se \href{http://tools.ietf.org/html/rfc2460}{RFC~2460},
    \href{http://tools.ietf.org/html/rfc4302}{RFC~4302},
    \href{http://tools.ietf.org/html/rfc4303}{RFC~4303} og
    \href{http://tools.ietf.org/html/rfc6275}{RFC~6275}
  \end{itemize}
\end{frame}

\section{IPv6 over Ethernet}
\begin{frame}
  \frametitle{IPv6 over Ethernet}
  \pause
  \begin{itemize}[<+->]
  \item \href{http://tools.ietf.org/html/rfc2464}{RFC~2464} definerer
    frameformatet for IPv6-datagrammer over Ethernet
  \item IPv6-datagrammer fraktes i standard Ethernetformat,
    \href{http://tools.ietf.org/html/rfc894}{RFC~894}
  \item Først angis mottakerens MAC-48-adresse
  \item Deretter angis avsenders MAC-48-adresse
  \item Frametypen settes til \texttt{86DD} heksadesimalt
  \item Deretter følger IPv6-header og resten av datagrammet
  \item Overføring av hode og hale er vanligvis en oppgave for lag~1
  \item Standard MTU for IPv6 over Ethernet er 1500 oktetter
  \item Minste tillatte MTU for IPv6 er 1280 oktetter
  \item Er største tilgjengelige MTU mindre enn 1280 oktetter, så må
    lagene under IPv6 sørge for fragmentering og sammensetting av
    IPv6-datagrammene
    (\href{http://tools.ietf.org/html/rfc2460}{RFC~2460})
  \end{itemize}
\end{frame}

\section{Grunnleggende om adresser}
\begin{frame}
  \frametitle{Grunnleggende om adresser}
  \pause
  \begin{itemize}[<+->]
  \item 128 bit
  \item Heksadesimal notasjon
  \item 16 bit grupperes, adskilt med kolon
  \item Ledende nuller kan sløyfes
  \item To eller flere 16-bit-blokker med nuller kan slås sammen til
    \texttt{::} (dobbelkolon), bare én gang pr.\ adresse
  \item Prefikslengde angis ved å slenge på en skråstrek og antall
    signifikante bit fra venstre mot høyre
  \end{itemize}
\end{frame}

\subsection{Adressedemo}
\begin{frame}
  \frametitle{Grunnleggende om adresser}
  \framesubtitle{Adressedemo}
  \pause
  \begin{itemize}[<+->]
  \item Uninett:\\\texttt{2001:0700:0000:0000:0000:0000:0000:0000\phantom{/32}}
  \item FSI:\\\texttt{2001:0700:1100:0000:0000:0000:0000:0000\phantom{/48}}
  \item IT-avdelingen@FSI:\\\texttt{2001:0700:1100:0003:0000:0000:0000:0000\phantom{/64}}
  \item Tronds D531:\\\texttt{2001:0700:1100:0003:0221:70FF:FE73:686E\phantom{/128}}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Grunnleggende om adresser}
  \framesubtitle{Adressedemo: Hierarkisk struktur}
  %\pause
  \begin{itemize}%[<+->]
  \item Uninett:\\\texttt{\alert{2001:0700}:0000:0000:0000:0000:0000:0000\phantom{/32}}
  \item FSI:\\\texttt{2001:0700:\alert{1100}:0000:0000:0000:0000:0000\phantom{/48}}
  \item IT-avdelingen@FSI:\\\texttt{2001:0700:1100:\alert{0003}:0000:0000:0000:0000\phantom{/64}}
  \item Tronds D531:\\\texttt{2001:0700:1100:0003:\alert{0221:70FF:FE73:686E}\phantom{/128}}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Grunnleggende om adresser}
  \framesubtitle{Adressedemo: La oss forenkle adressene}
  %\pause
  \begin{itemize}%[<+->]
  \item Uninett:\\\texttt{2001:0700:0000:0000:0000:0000:0000:0000\phantom{/32}}
  \item FSI:\\\texttt{2001:0700:1100:0000:0000:0000:0000:0000\phantom{/48}}
  \item IT-avdelingen@FSI:\\\texttt{2001:0700:1100:0003:0000:0000:0000:0000\phantom{/64}}
  \item Tronds D531:\\\texttt{2001:0700:1100:0003:0221:70FF:FE73:686E\phantom{/128}}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Grunnleggende om adresser}
  \framesubtitle{Adressedemo: Ledende nuller}
  %\pause
  \begin{itemize}%[<+->]
  \item Uninett:\\\texttt{2001:\alert{0}700:\alert{000}0:\alert{000}0:\alert{000}0:\alert{000}0:\alert{000}0:\alert{000}0\phantom{/32}}
  \item FSI:\\\texttt{2001:\alert{0}700:1100:\alert{000}0:\alert{000}0:\alert{000}0:\alert{000}0:\alert{000}0\phantom{/48}}
  \item IT-avdelingen@FSI:\\\texttt{2001:\alert{0}700:1100:\alert{000}3:\alert{000}0:\alert{000}0:\alert{000}0:\alert{000}0\phantom{/64}}
  \item Tronds D531:\\\texttt{2001:\alert{0}700:1100:\alert{000}3:\alert{0}221:70FF:FE73:686E\phantom{/128}}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Grunnleggende om adresser}
  \framesubtitle{Adressedemo: Fjernet ledende nuller}
  %\pause
  \begin{itemize}%[<+->]
  \item Uninett:\\\texttt{2001:\alert{700}:\alert{0}:\alert{0}:\alert{0}:\alert{0}:\alert{0}:\alert{0}\phantom{/32}}
  \item FSI:\\\texttt{2001:\alert{700}:1100:\alert{0}:\alert{0}:\alert{0}:\alert{0}:\alert{0}\phantom{/48}}
  \item IT-avdelingen@FSI:\\\texttt{2001:\alert{700}:1100:\alert{3}:\alert{0}:\alert{0}:\alert{0}:\alert{0}\phantom{/64}}
  \item Tronds D531:\\\texttt{2001:\alert{700}:1100:\alert{3}:\alert{221}:70FF:FE73:686E\phantom{/128}}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Grunnleggende om adresser}
  \framesubtitle{Adressedemo: La oss forenkle litt til}
  %\pause
  \begin{itemize}%[<+->]
  \item Uninett:\\\texttt{2001:700:0:0:0:0:0:0\phantom{/32}}
  \item FSI:\\\texttt{2001:700:1100:0:0:0:0:0\phantom{/48}}
  \item IT-avdelingen@FSI:\\\texttt{2001:700:1100:3:0:0:0:0\phantom{/64}}
  \item Tronds D531:\\\texttt{2001:700:1100:3:221:70FF:FE73:686E\phantom{/128}}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Grunnleggende om adresser}
  \framesubtitle{Adressedemo: To eller flere sammenhengende 16-bitgrupper med bare 0}
  %\pause
  \begin{itemize}%[<+->]
  \item Uninett:\\\texttt{2001:700:\alert{0:0:0:0:0:0}\phantom{/32}}
  \item FSI:\\\texttt{2001:700:1100:\alert{0:0:0:0:0}\phantom{/48}}
  \item IT-avdelingen@FSI:\\\texttt{2001:700:1100:3:\alert{0:0:0:0}\phantom{/64}}
  \item Tronds D531:\\\texttt{2001:700:1100:3:221:70FF:FE73:686E\phantom{/128}}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Grunnleggende om adresser}
  \framesubtitle{Adressedemo: Erstattet med dobbelkolon}
  %\pause
  \begin{itemize}%[<+->]
  \item Uninett:\\\texttt{2001:700\alert{::}\phantom{/32}}
  \item FSI:\\\texttt{2001:700:1100\alert{::}\phantom{/48}}
  \item IT-avdelingen@FSI:\\\texttt{2001:700:1100:3\alert{::}\phantom{/64}}
  \item Tronds D531:\\\texttt{2001:700:1100:3:221:70FF:FE73:686E\phantom{/128}}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Grunnleggende om adresser}
  \framesubtitle{Adressedemo: Kompakt form}
  %\pause
  \begin{itemize}%[<+->]
  \item Uninett:\\\texttt{2001:700::\phantom{/32}}
  \item FSI:\\\texttt{2001:700:1100::\phantom{/48}}
  \item IT-avdelingen@FSI:\\\texttt{2001:700:1100:3::\phantom{/64}}
  \item Tronds D531:\\\texttt{2001:700:1100:3:221:70FF:FE73:686E\phantom{/128}}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Grunnleggende om adresser}
  \framesubtitle{Adressedemo: Vis prefikslengde}
  %\pause
  \begin{itemize}%[<+->]
  \item Uninett:\\\texttt{2001:700::\alert{/32}}
  \item FSI:\\\texttt{2001:700:1100::\alert{/48}}
  \item IT-avdelingen@FSI:\\\texttt{2001:700:1100:3::\alert{/64}}
  \item Tronds D531:\\\texttt{2001:700:1100:3:221:70FF:FE73:686E\alert{/128}}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Grunnleggende om adresser}
  \framesubtitle{Adressedemo: Kompakte adresser med prefikslengde}
  %\pause
  \begin{itemize}%[<+->]
  \item Uninett:\\\texttt{2001:700::/32}
  \item FSI:\\\texttt{2001:700:1100::/48}
  \item IT-avdelingen@FSI:\\\texttt{2001:700:1100:3::/64}
  \item Tronds D531:\\\texttt{2001:700:1100:3:221:70FF:FE73:686E/128}
  \end{itemize}
\end{frame}

\subsection{MAC-48-adresser}
\begin{frame}
  \frametitle{Grunnleggende om adresser}
  \framesubtitle{MAC-48-adresser}
  \pause
  \begin{itemize}[<+->]
  \item MAC-48-adresser har følgende oppbygging:
    \begin{itemize}[<+->]
    \item \texttt{CC:cc:cc:nn:nn:nn} (heksadesimalt)
    \item Den første halvparten er produsentnummer: \texttt{CC:cc:cc}
    \item Den andre halvparten er løpenummer: \texttt{nn:nn:nn}
    \end{itemize}
  \item Den første oktetten i produsentnummeret, \texttt{CC}, har en
    spesiell oppbygging:
    \begin{itemize}[<+->]
    \item \texttt{CCCCCC\alert{ug}} (binært)
    \item Når \texttt{u}-bitet er satt til \texttt{0} (null), så
      gjelder formatet som er oppgitt her, altså
      \texttt{CC:cc:cc:nn:nn:nn} (heksadesimalt)
    \item Når \texttt{u}-bitet er satt til \texttt{1}, så er alle
      \texttt{C}- og \texttt{c}-sifrene løpenummer, mens \texttt{u}-
      og \texttt{g}-bitene beholder sine spesielle betydninger
    \item Når \texttt{g}-bitet er \texttt{0} så angir adressa en
      individuell node, og når \texttt{g}-bitet er \texttt{1} så er
      adressa en multicastgruppe
    \item Når \texttt{g}-bitet settes lik \texttt{1}, så blir også
      \texttt{u}-bitet satt lik \texttt{1}
    \item Kombinasjonen \texttt{ug} = \texttt{01} er høyst uvanlig
    \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Grunnleggende om adresser}
  \framesubtitle{MAC-48-adresser}
  %\pause
  \begin{itemize}[<+->]
  \item Gitt denne MAC-48-adressa: \texttt{\alert{00}:21:70:73:68:6E}
  \item \texttt{CC}-oktetten har verdien \texttt{\alert{00}}
    (heksadesimalt)
  \item På binær form er dette \texttt{000000\alert{00}}
    (\texttt{CCCCCC\alert{ug}})
  \item Vi ser at både \texttt{u}- og \texttt{g}-bitene er satt til
    \texttt{0}
  \item Dette er en MAC-48-adresse som:
    \begin{itemize}[<+->]
    \item følger det vanlige mønsteret med produsent- og løpenummer
    \item angir en individuell node
    \item Dell Inc er produsenten ifølge
      \href{http://standards.ieee.org/develop/regauth/oui/oui.txt}{OUI-lista}
      hos \href{http://www.ieee.org/index.html}{IEEE} (søk i fila
      etter \texttt{00-21-70})
    \end{itemize}
  \end{itemize}
\end{frame}

\subsection{Modda IEEE EUI-64-format}
\begin{frame}
  \frametitle{Grunnleggende om adresser}
  \framesubtitle{Modda IEEE EUI-64-format}
  \pause
  \begin{itemize}[<+->]
  \item Unicast-adresser består av 2 ting:
    \begin{itemize}
    \item Prefiks
    \item Grensesnittidentifikator
    \end{itemize}
  \item Grensesnittidentifikatorer er på 64 bit
  \item Grensesnittidentifikatorer kan lages automatisk fra
    MAC-48-adresser
  \item Grensesnittidentifikatorer kan også angis manuelt eller velges
    tilfeldig (\href{http://tools.ietf.org/html/rfc4941}{RFC~4941})
  \item Angis grensesnittidentifikatoren manuelt, så angis som regel
    hele IPv6-adressa manuelt
  \item Grensesnittidentifikatorer følger
    \href{http://www.ieee.org/index.html}{IEEE}
    \href{http://grouper.ieee.org/groups/msc/MSC200407/OnlineTutorialsD/EUI64.htm}{EUI-64}-formatet
    med to unntak:
    \begin{itemize}[<+->]
    \item universal/local-bitet brukes med \textit{invertert\/}
      betydning/verdi
      \begin{itemize}[<+->]
      \item (gruppebitet beholder sin vanlige betydning)
      \end{itemize}
    \item oktettene på midten er \texttt{FF:FE} ved automatisk
      konvertering fra MAC-48 til EUI-64
    \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Grunnleggende om adresser}
  \framesubtitle{Modda IEEE EUI-64-format}
  %\pause
  \begin{itemize}[<+->]
  \item Grensesnittidentifikatorer lages fra MAC-48-adresser etter
    oppskriften i \href{http://tools.ietf.org/html/rfc4291}{RFC~4291}:
    \begin{itemize}[<+->]
    \item Gitt denne MAC-48-adressa: \texttt{00:21:70:73:68:6E}
      \begin{itemize}[<+->]
      \item \texttt{0\alert{0}} (heksadesimalt) $\to$ \texttt{000000\alert{0}0} (binært)
      \end{itemize}
    \item Invertér universal/local-bitet: \texttt{0\alert{2}:21:70:73:68:6E}
      \begin{itemize}[<+->]
      \item \texttt{0\alert{2}} (heksadesimalt) $\to$ \texttt{000000\alert{1}0} (binært)
      \end{itemize}
    \item Sett inn \texttt{FF:FE} på midten: \texttt{02:21:70:\alert{FF:FE}:73:68:6E}
    \item Ta bort overflødig kolon og nuller: \texttt{221:70FF:FE73:686E}
    \item Høyreskift hele stasen: \texttt{::221:70FF:FE73:686E}
    \item Nå er grensesnittidentifikatoren klar til å bli kombinert med ønsket prefiks
    \item Prefiks fra router: \texttt{2001:700:1100:3::/64}
    \item Fullstendig adresse: \texttt{2001:700:1100:3:221:70FF:FE73:686E}
    \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Grunnleggende om adresser}
  \framesubtitle{Modda IEEE EUI-64-format}
  %\pause
  \begin{itemize}[<+->]
  \item OBS! Arbeidsuhell!
  \item Det skulle egentlig ha vært \texttt{FF:FF} i stedet for
    \texttt{FF:FE}
    \begin{itemize}
    \item MAC-48 $\to$ EUI-64 skal bruke \texttt{FF:FF}
    \item EUI-48 $\to$ EUI-64 skal bruke \texttt{FF:FE}
    \end{itemize}
  \item Siden IPv6 bruker universal/local-bitet med invertert
    betydning/verdi, så er arbeidsuhellet akseptert
  \item Se \href{http://tools.ietf.org/html/rfc4291}{RFC~4291}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Grunnleggende om adresser}
  \framesubtitle{Modda IEEE EUI-64-format}
  %\pause
  \begin{itemize}[<+->]
  \item Manuell grensesnittidentifikator innebærer at
    universal/local-bitet er satt til \texttt{0}
  \item De øvrige 63 bitene kan være hva som helst, bare verdien ikke
    skaper adressekollisjon i samme VLAN
  \item Normalt setter man en lav verdi for manuelle
    grensesnittidentifikatorer
  \item For eksempel \texttt{::53} (DNS-tjener, kanskje)
  \item \texttt{::53} (heksadesimalt) $\to$ \texttt{::\alert{0}:0:0:53} (heksadesimalt) $\to$
    \texttt{::000000\alert{0}000000000:00\dots00:0000000001010011} (binært)
  \item Uten \textit{invertering\/} av universal/local-bitet, måtte vi
    bruke manuelle grensesnittidentifikatorer på formen
    \texttt{::0\alert{2}00:0:0:53} (heksadesimalt)
  \item \texttt{::0\alert{2}00:0:0:53} (heksadesimalt) $\to$
    \texttt{::000000\alert{1}000000000:00\dots00:0000000001010011}
    (binært)
  \end{itemize}
\end{frame}

\subsection{Spesialadresser}
\begin{frame}
  \frametitle{Grunnleggende om adresser}
  \framesubtitle{Spesialadresser}
  \pause
  \begin{itemize}[<+->]
  \item Nulladressa: \texttt{0:0:0:0:0:0:0:0/0} eller \texttt{::/0}
    \begin{itemize}[<+->]
    \item Brukes av klienter som ennå ikke vet sin egen adresse
      (DHCPv6)
    \item Brukes av tjenester som godtar forespørsler fra alle
      grensesnitt (sjekk ut
      \href{http://www.freebsd.org/cgi/man.cgi?query=bind&apropos=0&sektion=2&manpath=FreeBSD+9.1-RELEASE&arch=default&format=html}{\texttt{bind}(2)}-systemkallet
      i «Juniks»)
    \end{itemize}
  \item Loopbackadressa: \texttt{0:0:0:0:0:0:0:1/128} eller
    \texttt{::1/128}
    \begin{itemize}[<+->]
    \item Velkjent adresse for å snakke med seg selv
    \end{itemize}
  \item Dokumentasjonsprefiks: \texttt{2001:db8::/32}
    \begin{itemize}[<+->]
    \item Brukes for generell beskrivelse av IPv6-oppsett i lærebøker
      og annen generell dokumentasjon
    \item Forbudt å bruke på det offentlige internettet
    \item Bør blokkeres i \textit{inngående\/} og utgående ACL-er for
      internettgrensesnittet til routere
    \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Grunnleggende om adresser}
  \framesubtitle{Spesialadresser}
  %\pause
  \begin{itemize}%[<+->]
  \item IPv4-mapped IPv6 addresses:
    \texttt{::FFFF:\textit{w}.\textit{x}.\textit{y}.\textit{z}}
    \begin{itemize}[<+->]
    \item Hvor \texttt{\textit{w}.\textit{x}.\textit{y}.\textit{z}} er
      den opprinnelige IPv4-adressa skrevet på vanlige måte for IPv4-adresser
    \item Eksempel: \texttt{::FFFF:128.39.174.1}
    \item Brukes i systemer som har både IPv4- og IPv6-adresser, men
      hvor den enkelte tjeneste bare bruker IPv6-socketer og har slått
      av \texttt{IPV6\_V6ONLY} med
      \href{http://www.freebsd.org/cgi/man.cgi?query=setsockopt&apropos=0&sektion=2&manpath=FreeBSD+9.1-RELEASE&arch=default&format=html}{\texttt{setsockopt}(2)}
      for lyttesocketen
    \item Forbudt av sikkerhetshensyn i enkelte OS-er som
      \href{http://www.openbsd.org/}{OpenBSD}, se OpenBSDs
      \href{http://www.openbsd.org/cgi-bin/man.cgi?query=ip6&sektion=4}{\texttt{ip6}(4)}
    \item Tjenestene må da åpne separate lyttesocketer for IPv4 og
      IPv6
    \end{itemize}
  \end{itemize}
\end{frame}

\subsection{DNS}
\begin{frame}[fragile]
  \frametitle{Grunnleggende om adresser}
  \framesubtitle{DNS}
  \pause
  \begin{itemize}[<+->]
  \item Navn-til-IPv6-adresser bruker AAAA-poster
    \begin{itemize}[<+->]
    \item Eksempel:
\begin{verbatim}
$ORIGIN fig.ol.no.
svabu IN AAAA 2001:700:1100:1::4
\end{verbatim}
    \end{itemize}
  \item IPv6-adresser-til-navn bruker PTR-poster plassert i \texttt{ip6.arpa.}
    \begin{itemize}[<+->]
    \item Eksempel:
\begin{verbatim}
$ORIGIN 1.0.0.0.0.0.1.1.0.0.7.0.1.0.0.2.ip6.arpa.
4.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0 IN PTR svabu.fig.ol.no.
\end{verbatim}
    \end{itemize}
  \item Se \href{http://tools.ietf.org/html/rfc3596}{RFC~3596}
  \end{itemize}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Grunnleggende om adresser}
  \framesubtitle{DNS}
  %\pause
  \begin{itemize}[<+->]
  \item A6-poster var foreslått som erstatning for AAAA-poster av
    \href{http://tools.ietf.org/html/rfc2874}{RFC~2874}, men endret
    til eksperimentell av
    \href{http://tools.ietf.org/html/rfc3363}{RFC~3363}
  \item \href{http://tools.ietf.org/html/rfc3364}{RFC~3364} diskuterer
    fordeler og ulemper med AAAA og A6
  \item En A6-post består av 2--3 ting:
    \begin{itemize}[<+->]
    \item Prefikslengde fra og med $0$ til og med $128$
    \item Utdrag av IPv6-adressa
    \item Navn som henviser til resten av adressa
    \end{itemize}
  \item Settes prefikslengda til:
    \begin{itemize}[<+->]
    \item $0$, så er det \alert{ikke} lov å oppgi noen henvisning,
      fordi dette navnet er det øverste eller det eneste nivået i en
      kjede
    \item $128$, så er det \alert{ikke} lov å oppgi noen IPv6-adresse,
      fordi man henviser til et helt annet navn, tydeligvis et
      alternativ til \texttt{CNAME}
    \end{itemize}
  \item Avsnittene 3.1.1 og 3.1.3 i
    \href{http://tools.ietf.org/html/rfc2874}{RFC~2874} er ikke enige
    med seg selv når prefikslengda settes til $128$
  \end{itemize}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Grunnleggende om adresser}
  \framesubtitle{DNS}
  %\pause
  \begin{itemize}[<+->]
  \item Et tenkt eksempel med A6:
  \item 
\begin{verbatim}
$ORIGIN ip6.uninett.no.
uninett IN A6  0 2001:700::
fig     IN A6 32 0:0:1100:: uninett

$ORIGIN fig.ol.no.
ext-servere.ip6 IN A6 48 0:0:0:1:: fig.ip6.uninett.no.
svabu           IN A6 64       ::4 ext-servere.ip6
\end{verbatim}
  \item Vi vil vite IPv6-adressa for \texttt{svabu.fig.ol.no.} og vi
    vil bruke A6-poster for å finne svaret
  \end{itemize}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Grunnleggende om adresser}
  \framesubtitle{DNS}
  %\pause
  \begin{itemize}%[<+->]
  \item Et tenkt eksempel med A6:
  \item 
\begin{verbatim}
$ORIGIN ip6.uninett.no.
uninett IN A6  0 2001:700::
\end{verbatim}
  \item Forklaring:
    \begin{itemize}%[<+->]
    \item Kjeden starter med \texttt{uninett.ip6.uninett.no.}
    \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Grunnleggende om adresser}
  \framesubtitle{DNS}
  %\pause
  \begin{itemize}%[<+->]
  \item Et tenkt eksempel med A6:
  \item 
\begin{verbatim}
$ORIGIN ip6.uninett.no.
uninett IN A6  0 2001:700::
fig     IN A6 32 0:0:1100:: uninett
\end{verbatim}
  \item Forklaring:
    \begin{itemize}%[<+->]
    \item \texttt{fig.ip6.uninett.no.} mangler de 32 mest signifikante bitene og henviser til \texttt{uninett.ip6.uninett.no.}
    \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Grunnleggende om adresser}
  \framesubtitle{DNS}
  %\pause
  \begin{itemize}%[<+->]
  \item Et tenkt eksempel med A6:
  \item 
\begin{verbatim}
$ORIGIN ip6.uninett.no.
uninett IN A6  0 2001:700::
fig     IN A6 32 0:0:1100:: uninett

$ORIGIN fig.ol.no.
ext-servere.ip6 IN A6 48 0:0:0:1:: fig.ip6.uninett.no.
\end{verbatim}
  \item Forklaring:
    \begin{itemize}%[<+->]
    \item \texttt{ext-servere.ip6.fig.ol.no.} mangler de 48 mest signifikante bitene og henviser til \texttt{fig.ip6.uninett.no.}
    \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Grunnleggende om adresser}
  \framesubtitle{DNS}
  %\pause
  \begin{itemize}%[<+->]
  \item Et tenkt eksempel med A6:
  \item 
\begin{verbatim}
$ORIGIN ip6.uninett.no.
uninett IN A6  0 2001:700::
fig     IN A6 32 0:0:1100:: uninett

$ORIGIN fig.ol.no.
ext-servere.ip6 IN A6 48 0:0:0:1:: fig.ip6.uninett.no.
svabu           IN A6 64       ::4 ext-servere.ip6
\end{verbatim}
  \item Forklaring:
    \begin{itemize}%[<+->]
    \item \texttt{svabu.fig.ol.no.} mangler de 64 mest signifikante bitene og henviser til \texttt{ext-servere.ip6.fig.ol.no.}
    \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Grunnleggende om adresser}
  \framesubtitle{DNS}
  %\pause
  \begin{itemize}%[<+->]
  \item Et tenkt eksempel med A6:
  \item 
\begin{verbatim}
$ORIGIN ip6.uninett.no.
uninett IN A6  0 2001:700::
fig     IN A6 32 0:0:1100:: uninett

$ORIGIN fig.ol.no.
ext-servere.ip6 IN A6 48 0:0:0:1:: fig.ip6.uninett.no.
svabu           IN A6 64       ::4 ext-servere.ip6
\end{verbatim}
    \item Vi får bygd opp følgende adressekjede:
      \begin{itemize}%[<+->]
      \item \texttt{::4}\hfill\texttt{svabu.fig.ol.no.}
      \item \texttt{0:0:0:1::}\hfill\texttt{ext-servere.ip6.fig.ol.no.}
      \item \texttt{0:0:1100::}\hfill\texttt{fig.ip6.uninett.no.}
      \item \texttt{2001:700::}\hfill\texttt{uninett.ip6.uninett.no.}
      \end{itemize}
    \item Bitvis-\texttt{OR} gir den sammensatte adressa \texttt{2001:700:1100:1::4}
  \end{itemize}
\end{frame}

\section{Adressetyper}
\begin{frame}
  \frametitle{Adressetyper}
  \pause
  \begin{itemize}[<+->]
  \item Det finnes flere adressetyper med forskjellige bruksområder:
    \begin{itemize}[<+->]
    \item Unicast-adresser:
      \begin{itemize}[<+->]
      \item Link-local-adresser
      \item Site-local-adresser
      \item Offentlige unicast-adresser
      \item Unike, lokale, aggregerbare adresser
      \end{itemize}
    \item Anycast-adresser
    \item Multicast-adresser
    \end{itemize}
  \item Merk at broadcast er avskaffa og er i stor grad erstatta med
    link-local-multicast
  \end{itemize}
\end{frame}

\subsection{Link-local-adresser}
\begin{frame}
  \frametitle{Adressetyper}
  \framesubtitle{Link-local-adresser}
  \pause
  \begin{itemize}[<+->]
  \item Definert: \href{http://tools.ietf.org/html/rfc4291}{RFC~4291}
  \item Bruksområde:
    \begin{itemize}[<+->]
    \item Lokal kommunikasjon internt i VLAN-et
    \item Sentral for autokonfigurasjon
    \item Blir ikke videresendt av routere til andre VLAN eller til internett
    \item Kan brukes i ad-hoc-nett
    \end{itemize}
  \item Prefiks: \texttt{FE80::/10}
  \item De neste 54 bitene skal settes til null
  \item De siste 64 bitene er grensesnittidentifikator i modda
    EUI-64-format
  \item Eksempel: \texttt{FE80::221:70FF:FE73:686E}
  \end{itemize}
\end{frame}

\subsection{Site-local-adresser}
\begin{frame}
  \frametitle{Adressetyper}
  \framesubtitle{Site-local-adresser}
  \pause
  \begin{itemize}[<+->]
  \item Definert: \href{http://tools.ietf.org/html/rfc3513}{RFC~3513}
  \item Bruksområde: private adresser på lik linje med
    \href{http://tools.ietf.org/html/rfc1918}{RFC~1918}
  \item Prefiks: \texttt{FEC0::/10}
  \item De neste 54 bitene brukes til subnet-ID
  \item De siste 64 bitene er grensesnittidentifikatoren i modda
    EUI-64-format
  \item Eksempel: \texttt{FEC0::DEAD:BEEF:1337}
  \item Ikke bruk site-local-adresser
    (\href{http://tools.ietf.org/html/rfc3879}{RFC~3879})
  \item Site-local-adresser er erstatta med ULA
    (\href{http://tools.ietf.org/html/rfc4193}{RFC~4193})
  \end{itemize}
\end{frame}

\subsection{Offentlige unicast-adresser}
\begin{frame}
  \frametitle{Adressetyper}
  \framesubtitle{Offentlige unicast-adresser}
  \pause
  \begin{itemize}[<+->]
  \item Definert: \href{http://tools.ietf.org/html/rfc4291}{RFC~4291}
    og \href{http://tools.ietf.org/html/rfc3587}{RFC~3587}
  \item Bruksområde: ende-til-ende-kommunikasjon på det offentlige internett
  \item Prefiks: \texttt{2000::/3}
  \item De neste bitene allokeres hierarkisk, minimum i 4-bitblokker,
    men gjerne i 8- eller 16-bitblokker
  \item De siste 64 bitene er grensesnittidentifikator i modda
    EUI-64-format
  \item Det er vanlig at kundene blir tildelt \texttt{/48}- eller
    \texttt{/56}-bits prefiks av ISP-ene
    \begin{itemize}[<+->]
    \item \texttt{/48}-bits prefiks gir $64-48=16$ subnetbit $\to$ $2^{16}=65536$ subnett
    \item \texttt{/56}-bits prefiks gir $64-56=\phantom{1}8$ subnetbit $\to$ $2^{8\phantom{6}}=\phantom{65}256$ subnett
    \end{itemize}
  \item Eksempel: \texttt{2001:700:1100:1::1/128}
  \end{itemize}
\end{frame}

\subsection{Unike, lokale, aggregerbare adresser}
\begin{frame}
  \frametitle{Adressetyper}
  \framesubtitle{Unike, lokale, aggregerbare adresser}
  \pause
  \begin{itemize}[<+->]
  \item Definert: \href{http://tools.ietf.org/html/rfc4193}{RFC~4193}
  \item Bruksområde: ende-til-ende-kommunikasjon internt i nettverket
  \item Veldig praktisk å ha faste, interne adresser uavhengig av
    offentlig prefiks tildelt av ISP
  \item Prefiks: \texttt{FC00::/7}
  \item Det åttende mest signifikante bitet skal settes til \texttt{1}
    inntil videre
  \item Det reelle prefikset er dermed
    \texttt{\alert{FD}00::/\alert{8}}
  \item Prefikset \texttt{\alert{FC}00::/\alert{8}} er reservert
    inntil videre
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Adressetyper}
  \framesubtitle{Unike, lokale, aggregerbare adresser}
  %\pause
  \begin{itemize}[<+->]
  \item Reelt prefiks: \texttt{FD00::/8}
  \item De neste 40 bitene genereres tilfeldig, gjerne som beskrevet i
    \href{http://tools.ietf.org/html/rfc4193}{RFC~4193}:
    \begin{itemize}[<+->]
    \item Uttrykk nåværende øyeblikk som et 64-bit heltall i
      NTP-format
      (\href{http://tools.ietf.org/html/rfc5905}{RFC~5905}).
    \item Bruk en EUI-64-identifikator fra systemet som kjører denne
      algoritmen.
      \begin{itemize}[<+->]
      \item Mangler du en EUI-64-identifikator, kan du lage en fra en
        48-bit MAC-adresse som angitt i
        \href{http://tools.ietf.org/html/rfc3513}{RFC~3513}.
      \item Kan du ikke lage en EUI-64-identifikator, så bruk en annen
        unik verdi som serienummeret til systemet.
      \end{itemize}
    \item Sett sammen de to 64-bit heltallene til et 128-bit heltall.
    \item Beregn en SHA-1-hash som beskrevet i
      \href{http://tools.ietf.org/html/rfc3174}{RFC~3174}.  Resultatet
      er et heltall på 160 bit.
    \item Bruk de 40 minst signifikante bitene som global
      identifikator.
    \end{itemize}
  \item De neste 16 bitene brukes til subnett-ID
  \item De siste 64 bitene er grensesnittidentifikator i modda
    EUI-64-format
  \item Eksempel: \texttt{FD\alert{5C:14CF:C300}:31::1/128}
% Geoff Huston, forsker ved APNIC, har oppdaget ULA-adresser ute på internett.
% Tydeligvis klarer ikke folk å lese RFC-ene og holde seg til de fastsatte reglene.
% http://www.sixxs.net/archive/docs/IEPG2013_ULA_in_the_wild.pdf
  \end{itemize}
\end{frame}

\subsection{Anycast-adresser}
\begin{frame}
  \frametitle{Adressetyper}
  \framesubtitle{Anycast-adresser}
  \pause
  \begin{itemize}[<+->]
  \item Definert: \href{http://tools.ietf.org/html/rfc4291}{RFC~4291}
  \item Bruksområde: felles adresse for distribuerte tjenester
  \item Prefiks: ingen, allokeres fra dine egne unicast-adresser
  \item Eksempel: \texttt{2001:700:1100::/128 anycast}
  \end{itemize}
\end{frame}

\subsection{Multicast-adresser}
\begin{frame}
  \frametitle{Adressetyper}
  \framesubtitle{Multicast-adresser}
  \pause
  \begin{itemize}[<+->]
  \item Definert: \href{http://tools.ietf.org/html/rfc4291}{RFC~4291}
  \item Bruksområde: én-til-mange-kommunikasjon
  \item Prefiks: \texttt{FF::/8}
  \item Flagg \texttt{\textit{f\/}} og rekkevidde
    \texttt{\textit{r\/}} er innebygget i adressa:
    \texttt{FF\textit{fr}::/16}
  \item Eksempel: \texttt{FF0E::101/128}\hfill(global multicast-adresse
    for NTP)
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Adressetyper}
  \framesubtitle{Multicast-adresser}
  %\pause
  \begin{itemize}[<+->]
  \item Flaggene heter \texttt{0RPT}\hfill(null, err, pe, te)
  \item Flagget \texttt{T} angir med \texttt{0} at adressa er velkjent
    (definert av \href{http://www.iana.org/}{IANA}), og med \texttt{1}
    at adressa er midlertidig (lokalt definert)
  \item Flagget \texttt{P} angir med \texttt{1} at adressa inneholder
    et unicast-prefiks og skal følge reglene i
    \href{http://tools.ietf.org/html/rfc3306}{RFC~3306}
  \item Flagget \texttt{R} angir med \texttt{1} at adressa også
    inneholder et møtepunkt («rendezvous point») og skal følge reglene
    i \href{http://tools.ietf.org/html/rfc3956}{RFC~3956}
  \item Flaggene \texttt{P} og \texttt{R} gjør det enkelt å lage egne
    multicast-adresser for internt bruk i organisasjonen
  \end{itemize}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Adressetyper}
  \framesubtitle{Multicast-adresser}
  %\pause
  \begin{multicols}{2}
    \begin{itemize}[<+->]
    \item Følgende rekkevidder er definert i
      \href{http://tools.ietf.org/html/rfc4291}{RFC~4921}:
    \item \texttt{0}: reservert
    \item \texttt{1}: interface-local
    \item \texttt{2}: link-local
    \item \texttt{3}: reservert
    \item \texttt{4}: admin-local
    \item \texttt{5}: site-local
    \item \texttt{6}: ikke definert
    \item \texttt{7}: ikke definert
    \item \texttt{8}: organization-local
    \item \texttt{9}: ikke definert
    \item \texttt{A}: ikke definert,\\ brukt av Uninett til å
      \href{http://drift.uninett.no/nett/ip-nett/ipv6-multicastadresser.html}{begrense}
      trafikken innenfor «Uninettet»
    \item \texttt{B}: ikke definert
    \item \texttt{C}: ikke definert
    \item \texttt{D}: ikke definert
    \item \texttt{E}: global
    \item \texttt{F}: reservert
    \end{itemize}
  \end{multicols}
\end{frame}

\section{ICMPv6}
\begin{frame}
  \frametitle{ICMPv6}
  \pause
  \begin{itemize}[<+->]
  \item Feilrapportering- og feilsøkingstjeneste for IPv6
  \item Definert: \href{http://tools.ietf.org/html/rfc4443}{RFC~4443}
    og \href{http://tools.ietf.org/html/rfc4844}{RFC~4844}
  \item ICMPv6-meldinger inneholder to tall som forteller om
    budskapets mening og innhold:
    \begin{itemize}[<+->]
    \item Type: hovednummer
    \item Code: undernummer, settes til 0 når det ikke er definert
      noen undernummer
    \end{itemize}
  \item I tillegg kommer felter for sjekksum og opplysninger som er
    unike for hver type (og undertype) av meldingene
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{ICMPv6}
  %\pause
  \begin{itemize}[<+->]
  \item Feilmeldinger:
    \begin{itemize}[<+->]
    \item 1: Destination Unreachable
    \item 2: Packet Too Big
    \item 3: Time Exceeded
    \item 4: Parameter Problem
    \item 100: Private eksperimenter
    \item 101: Private eksperimenter
    \item 127: Reservert for utvidelse av feilmeldingene
    \end{itemize}
  \item Informative meldinger:
    \begin{itemize}[<+->]
    \item 128: Echo request\hfill(ping)
    \item 129: Echo reply\hfill(pong)
    \item 200: Private eksperimenter
    \item 201: Private eksperimenter
    \item 255: Reservert for utvidelse av informative meldinger
    \end{itemize}
  \end{itemize}
\end{frame}

\subsection{Multicast Listener Discovery}
\begin{frame}
  \frametitle{ICMPv6}
  \framesubtitle{Multicast Listener Discovery}
  \pause
  \begin{itemize}[<+->]
  \item Definert: \href{http://tools.ietf.org/html/rfc2710}{RFC~2710}
  \item Angir tre nye ICMPv6-meldinger:
    \begin{itemize}[<+->]
    \item 130: Multicast Listener Query
    \item 131: Multicast Listener Report
    \item 132: Multicast Listener Done
    \end{itemize}
  \end{itemize}
\end{frame}

\subsection{Neighbor Discovery}
\begin{frame}
  \frametitle{ICMPv6}
  \framesubtitle{Neighbor Discovery}
  \pause
  \begin{itemize}[<+->]
  \item Definert: \href{http://tools.ietf.org/html/rfc4861}{RFC~4861}
  \item Angir fem nye ICMPv6-meldinger:
    \begin{itemize}[<+->]
    \item 133: Router Solicitation
    \item 134: Router Advertisement
    \item 135: Neighbor Solicitation
    \item 136: Neighbor Advertisement
    \item 137: Redirect
    \end{itemize}
  \item Sentral ved autokonfigurering av adresser
  \item Brukes for å bekrefte at nodene er oppegående og bestemme
    lag~2-adressene til mottakere
  \item Neighbor Discovery vil bli gjennomgått i detalj i foredraget
    for de viderekomne
  \end{itemize}
\end{frame}

\subsection{Router Renumbering}
\begin{frame}
  \frametitle{ICMPv6}
  \framesubtitle{Router Renumbering}
  \pause
  \begin{itemize}[<+->]
  \item Definert:
    \texttt{\url{http://www.iana.org/assignments/icmpv6-parameters/icmpv6-parameters.xhtml}}
    oppgir \href{mailto:crawdad@gungnir.fnal.gov}{Matt Crawford} som
    referanse
  \item Angir én ny ICMPv6-melding:
    \begin{itemize}[<+->]
    \item 138: Router Renumbering
    \end{itemize}
  \item
    \texttt{\url{http://www.iana.org/assignments/icmpv6-parameters/icmpv6-parameters.xhtml}}
    angir følgende undertyper:
    \begin{itemize}[<+->]
    \item 0: Router Renumbering Command
    \item 1: Router Renumbering Result
    \item 255: Sequence Number Reset
    \end{itemize}
  \item Jeg har hittil ikke klart å finne ut noe mer om denne
    ICMPv6-meldinga
  \end{itemize}
\end{frame}

\subsection{Inverse Neighbor Discovery}
\begin{frame}
  \frametitle{ICMPv6}
  \framesubtitle{Inverse Neighbor Discovery}
  \pause
  \begin{itemize}[<+->]
  \item Definert: \href{http://tools.ietf.org/html/rfc3122}{RFC~3122}
  \item Angir to nye ICMPv6-meldinger:
    \begin{itemize}[<+->]
    \item 141: Inverse Neighbor Discovery Solicitation
    \item 142: Inverse Neighbor Discovery Advertisement
    \end{itemize}
  \item Gjør det mulig for én node å lære IPv6-adressen(e) til en
    annen node i samme VLAN, når man bare vet lag~2-adressa til den
    andre noden
  \end{itemize}
\end{frame}

\subsection{Version 2 Multicast Listener Report}
\begin{frame}
  \frametitle{ICMPv6}
  \framesubtitle{Version 2 Multicast Listener Report}
  \pause
  \begin{itemize}[<+->]
  \item Definert: \href{http://tools.ietf.org/html/rfc3810}{RFC~3810}
  \item Angir én ny ICMPv6-melding:
    \begin{itemize}[<+->]
    \item 143: Version 2 Multicast Listener Report
    \end{itemize}
  \end{itemize}
\end{frame}

\subsection{Mobile IPv6}
\begin{frame}
  \frametitle{ICMPv6}
  \framesubtitle{Mobile IPv6}
  \pause
  \begin{itemize}[<+->]
  \item Definert: \href{http://tools.ietf.org/html/rfc6275}{RFC~6275}
  \item Angir fire nye ICMPv6-meldinger:
    \begin{itemize}[<+->]
    \item 144: Home Agent Address Discovery Request
    \item 145: Home Agent Address Discovery Reply
    \item 146: Mobile Prefix Solicitation
    \item 147: Mobile Prefix Advertisement
    \end{itemize}
  \end{itemize}
\end{frame}

\subsection{SEcure Neighbor Discovery (SEND)}
\begin{frame}
  \frametitle{ICMPv6}
  \framesubtitle{SEcure Neighbor Discovery (SEND)}
  \pause
  \begin{itemize}[<+->]
  \item Definert: \href{http://tools.ietf.org/html/rfc3971}{RFC~3971}
  \item Angir to nye ICMPv6-meldinger:
    \begin{itemize}[<+->]
    \item 148: Certification Path Solicitation
    \item 149: Certification Path Advertisement
    \end{itemize}
  \end{itemize}
\end{frame}

\subsection{Multicast Router Discovery}
\begin{frame}
  \frametitle{ICMPv6}
  \framesubtitle{Multicast Router Discovery}
  \pause
  \begin{itemize}[<+->]
  \item Definert: \href{http://tools.ietf.org/html/rfc4286}{RFC~4286}
  \item Angir tre nye ICMPv6-meldinger:
    \begin{itemize}[<+->]
    \item 151: Multicast Router Advertisement
    \item 152: Multicast Router Solicitation
    \item 153: Multicast Router Termination
    \end{itemize}
  \end{itemize}
\end{frame}

\subsection{FMIPv6}
\begin{frame}
  \frametitle{ICMPv6}
  \framesubtitle{FMIPv6}
  \pause
  \begin{itemize}[<+->]
  \item Definert: \href{http://tools.ietf.org/html/rfc5568}{RFC~5568}
  \item Angir én ny ICMPv6-melding:
    \begin{itemize}[<+->]
    \item 154: FMIPv6
    \end{itemize}
  \end{itemize}
\end{frame}

\subsection{RPL Control Message}
\begin{frame}
  \frametitle{ICMPv6}
  \framesubtitle{RPL Control Message}
  \pause
  \begin{itemize}[<+->]
  \item Definert: \href{http://tools.ietf.org/html/rfc6550}{RFC~6550}
  \item Angir én ny ICMPv6-melding:
    \begin{itemize}[<+->]
    \item 155: RPL Control Message
    \end{itemize}
  \end{itemize}
\end{frame}

\subsection{ILNPv6 Locator Update Message}
\begin{frame}
  \frametitle{ICMPv6}
  \framesubtitle{ILNPv6 Locator Update Message}
  \pause
  \begin{itemize}[<+->]
  \item Definert: \href{http://tools.ietf.org/html/rfc6743}{RFC~6743}
  \item Angir én ny ICMPv6-melding:
    \begin{itemize}[<+->]
    \item 156: ILNPv6 Locator Update Message
    \end{itemize}
  \end{itemize}
\end{frame}

\subsection{Duplicate Address}
\begin{frame}
  \frametitle{ICMPv6}
  \framesubtitle{Duplicate Address}
  \pause
  \begin{itemize}[<+->]
  \item Definert: \href{http://tools.ietf.org/html/rfc6775}{RFC~6775}
  \item Angir to nye ICMPv6-meldinger:
    \begin{itemize}[<+->]
    \item 157: Duplicate Address Request
    \item 158: Duplicate Address Confirmation
    \end{itemize}
  \end{itemize}
\end{frame}

\section{DHCPv6}
\begin{frame}
  \frametitle{DHCPv6}
  \pause
  \begin{itemize}[<+->]
  \item Bla, bla, bla
  \end{itemize}
\end{frame}

\section{OS-konfig}
\begin{frame}
  \frametitle{OS-konfig}
  \pause
  \begin{itemize}[<+->]
  \item Bla, bla, bla
  \end{itemize}
\end{frame}

\section{Tunneloppsett}
\begin{frame}
  \frametitle{Tunneloppsett}
  \pause
  \begin{itemize}[<+->]
  \item Bla, bla, bla
  \end{itemize}
\end{frame}

\section{Noen RFC-er om IPv6}
\begin{frame}
  \frametitle{Noen RFC-er om IPv6}
  \pause
  \begin{itemize}[<+->]
  \item IPv6-spesifikasjon:
    \href{http://tools.ietf.org/html/rfc2460}{RFC~2460},
    \href{http://tools.ietf.org/html/rfc5095}{RFC~5095},
    \href{http://tools.ietf.org/html/rfc5722}{RFC~5722},
    \href{http://tools.ietf.org/html/rfc5871}{RFC~5871},
    \href{http://tools.ietf.org/html/rfc6437}{RFC~6437},
    \href{http://tools.ietf.org/html/rfc6564}{RFC~6564},
    \href{http://tools.ietf.org/html/rfc6935}{RFC~6935} og
    \href{http://tools.ietf.org/html/rfc6946}{RFC~6946}
  \item ICMPv6: \href{http://tools.ietf.org/html/rfc4443}{RFC~4443} og
    \href{http://tools.ietf.org/html/rfc4884}{RFC~4884}
  \item Neighbor Discovery:
    \href{http://tools.ietf.org/html/rfc4861}{RFC~4861},
    \href{http://tools.ietf.org/html/rfc5942}{RFC~5942} og
    \href{http://tools.ietf.org/html/rfc6980}{RFC~6980}
  \item Krav til IPv6-noder:
    \href{http://tools.ietf.org/html/rfc6434}{RFC~6434}
  \item Path MTU: \href{http://tools.ietf.org/html/rfc1981}{RFC~1981}
  \item DHCPv6: \href{http://tools.ietf.org/html/rfc3315}{RFC~3315},
    \href{http://tools.ietf.org/html/rfc4361}{RFC~4361},
    \href{http://tools.ietf.org/html/rfc5494}{RFC~5494},
    \href{http://tools.ietf.org/html/rfc6221}{RFC~6221},
    \href{http://tools.ietf.org/html/rfc6422}{RFC~6422} og
    \href{http://tools.ietf.org/html/rfc6644}{RFC~6644}
  \item Overføring av IPv6-pakker over Ethernet:
    \href{http://tools.ietf.org/html/rfc2464}{RFC~2464} og
    \href{http://tools.ietf.org/html/rfc6085}{RFC~6085}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Noen RFC-er om IPv6}
  %\pause
  \begin{itemize}[<+->]
  \item Adressearkitektur:
    \href{http://tools.ietf.org/html/rfc4291}{RFC~4291},
    \href{http://tools.ietf.org/html/rfc5952}{RFC~5952} og
    \href{http://tools.ietf.org/html/rfc6052}{RFC~6052}
  \item Unicastadresser:
    \href{http://tools.ietf.org/html/rfc3587}{RFC~3587}
  \item ULA: \href{http://tools.ietf.org/html/rfc4193}{RFC~4193}
  \item Autokonfigurering av adresser:
    \href{http://tools.ietf.org/html/rfc4862}{RFC~4862}
  \item Random interface ID:
    \href{http://tools.ietf.org/html/rfc4941}{RFC~4941}
  \item Prefiks-baserte multicastadresser:
    \href{http://tools.ietf.org/html/rfc3306}{RFC~3306},
    \href{http://tools.ietf.org/html/rfc3956}{RFC~3956} og
    \href{http://tools.ietf.org/html/rfc4489}{RFC~4489}
  \item IPsec: \href{http://tools.ietf.org/html/rfc4301}{RFC~4301},
    \href{http://tools.ietf.org/html/rfc4302}{RFC~4302},
    \href{http://tools.ietf.org/html/rfc4303}{RFC~4303},
    \href{http://tools.ietf.org/html/rfc4304}{RFC~4304},
    \href{http://tools.ietf.org/html/rfc4307}{RFC~4307},
    \href{http://tools.ietf.org/html/rfc4308}{RFC~4308},
    \href{http://tools.ietf.org/html/rfc4309}{RFC~4309},
    \href{http://tools.ietf.org/html/rfc4312}{RFC~4312},
    \href{http://tools.ietf.org/html/rfc4835}{RFC~4835} og
    \href{http://tools.ietf.org/html/rfc5996}{RFC~5996}
  \item For programmerere av nettverksprogrammer:
    \href{http://tools.ietf.org/html/rfc4038}{RFC~4038}
  \end{itemize}
\end{frame}

\end{document}

% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %

\section{}
\begin{frame}
  \frametitle{}
  \pause
  \begin{itemize}[<+->]
  \item Bla, bla, bla
  \end{itemize}
\end{frame}

\subsection{}
\begin{frame}
  \frametitle{}
  \framesubtitle{}
  \pause
  \begin{itemize}[<+->]
  \item Bla, bla, bla
  \end{itemize}
\end{frame}

\section{Sammendrag}
\begin{frame}
  \frametitle{Sammendrag}
  \pause
  \begin{itemize}[<+->]
  \item Bla, bla, bla
  \end{itemize}
\end{frame}

\section{Emne 1}
\begin{frame}
  \frametitle{Emne 1}
  \pause
  \begin{itemize}[<+->]
  \item Bla, bla, bla
  \end{itemize}
\end{frame}

\subsection{Underemne 1a}
\begin{frame}
  \frametitle{Emne 1}
  \framesubtitle{Underemne 1a}
  \pause
  \begin{itemize}[<+->]
  \item Bla, bla, bla
  \end{itemize}
\end{frame}

Local Variables:
TeX-PDF-mode:t
End:
